# è‚¡ç¥¨äº¤æ˜“ç³»ç»Ÿ Web ç‰ˆ - é¡¹ç›®ç»“æ„

## ğŸ“ ç›®å½•ç»“æ„

```
StockTradebyZ/
â”œâ”€â”€ backend/                      # FastAPI åç«¯
â”‚   â”œâ”€â”€ main.py                  # ä¸»åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ requirements.txt         # Python ä¾èµ–
â”‚   â””â”€â”€ routers/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ auth.py              # è®¤è¯è·¯ç”±ï¼ˆç™»å½•ï¼‰
â”‚
â”œâ”€â”€ frontend/                     # React å‰ç«¯
â”‚   â”œâ”€â”€ index.html               # HTML å…¥å£
â”‚   â”œâ”€â”€ package.json             # Node.js ä¾èµ–
â”‚   â”œâ”€â”€ vite.config.js           # Vite é…ç½®
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.jsx             # React å…¥å£
â”‚       â”œâ”€â”€ index.css            # å…¨å±€æ ·å¼
â”‚       â”œâ”€â”€ App.jsx              # ä¸»åº”ç”¨ç»„ä»¶
â”‚       â”œâ”€â”€ services/
â”‚       â”‚   â””â”€â”€ api.js           # API æœåŠ¡
â”‚       â””â”€â”€ pages/
â”‚           â”œâ”€â”€ Login.jsx        # ç™»å½•é¡µé¢
â”‚           â”œâ”€â”€ Toolbox.jsx      # å·¥å…·ç®±é¡µé¢
â”‚           â”œâ”€â”€ StockSelector.jsx # é€‰è‚¡å·¥å…·ï¼ˆå ä½ï¼‰
â”‚           â””â”€â”€ Backtest.jsx     # å›æµ‹å·¥å…·ï¼ˆå ä½ï¼‰
â”‚
â”œâ”€â”€ data/                        # è‚¡ç¥¨æ•°æ®
â”œâ”€â”€ start_backend.sh             # åç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start_frontend.sh            # å‰ç«¯å¯åŠ¨è„šæœ¬
â””â”€â”€ README_WEB.md                # ä½¿ç”¨è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å¯åŠ¨åç«¯

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
./start_backend.sh

# æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨
cd backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

åç«¯æœåŠ¡åœ°å€ï¼šhttp://localhost:8000
API æ–‡æ¡£ï¼šhttp://localhost:8000/docs

### 2. å¯åŠ¨å‰ç«¯

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
./start_frontend.sh

# æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨
cd frontend
npm install --legacy-peer-deps  # é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm run dev
```

å‰ç«¯æœåŠ¡åœ°å€ï¼šhttp://localhost:3000

## ğŸ” é»˜è®¤è´¦å·

- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`

## ğŸ“‹ åŠŸèƒ½æ¨¡å—

### å·²å®ç°
- âœ… ç”¨æˆ·ç™»å½•è®¤è¯ï¼ˆJWT Tokenï¼‰
- âœ… ç™»å½•é¡µé¢
- âœ… å·¥å…·ç®±é¡µé¢
- âœ… è·¯ç”±ä¿æŠ¤ï¼ˆæœªç™»å½•è‡ªåŠ¨è·³è½¬ï¼‰
- âœ… é€‰è‚¡å·¥å…·å…¥å£
- âœ… å›æµ‹å·¥å…·å…¥å£

### å¾…å¼€å‘
- â³ é€‰è‚¡å·¥å…·å…·ä½“åŠŸèƒ½
- â³ å›æµ‹å·¥å…·å…·ä½“åŠŸèƒ½
- â³ æ•°æ®å¯è§†åŒ–ï¼ˆä½¿ç”¨ Rechartsï¼‰
- â³ ç”¨æˆ·ç®¡ç†
- â³ ç­–ç•¥ç®¡ç†

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯
- **FastAPI** - ç°ä»£åŒ– Python Web æ¡†æ¶
- **Uvicorn** - ASGI æœåŠ¡å™¨
- **JWT** - èº«ä»½è®¤è¯
- **Pydantic** - æ•°æ®éªŒè¯

### å‰ç«¯
- **React 18** - UI æ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·
- **Ant Design** - UI ç»„ä»¶åº“
- **React Router** - è·¯ç”±ç®¡ç†
- **Axios** - HTTP å®¢æˆ·ç«¯
- **Recharts** - å›¾è¡¨åº“ï¼ˆå¾…ä½¿ç”¨ï¼‰

## ğŸ“ API æ¥å£

### è®¤è¯æ¥å£

#### POST /api/auth/login/json
ç™»å½•æ¥å£

**è¯·æ±‚ä½“ï¼š**
```json
{
  "username": "admin",
  "password": "admin123"
}
```

**å“åº”ï¼š**
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "bearer"
}
```

### å¥åº·æ£€æŸ¥

#### GET /health
å¥åº·æ£€æŸ¥æ¥å£

**å“åº”ï¼š**
```json
{
  "status": "healthy"
}
```

## ğŸ¨ é¡µé¢è¯´æ˜

### 1. ç™»å½•é¡µé¢ (/login)
- ç”¨æˆ·å/å¯†ç è¾“å…¥
- è¡¨å•éªŒè¯
- ç™»å½•æˆåŠŸåè·³è½¬åˆ°å·¥å…·ç®±
- é»˜è®¤è´¦å·æç¤º

### 2. å·¥å…·ç®±é¡µé¢ (/toolbox)
- æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
- ä¸¤ä¸ªå·¥å…·å¡ç‰‡ï¼š
  - é€‰è‚¡å·¥å…·ï¼ˆStockSelectorï¼‰
  - å›æµ‹å·¥å…·ï¼ˆBacktestï¼‰
- é€€å‡ºç™»å½•æŒ‰é’®

### 3. é€‰è‚¡å·¥å…· (/stock-selector)
- å ä½é¡µé¢
- å¾…å¼€å‘å…·ä½“åŠŸèƒ½

### 4. å›æµ‹å·¥å…· (/backtest)
- å ä½é¡µé¢
- å¾…å¼€å‘å…·ä½“åŠŸèƒ½

## ğŸ” è®¤è¯æµç¨‹

1. ç”¨æˆ·åœ¨ç™»å½•é¡µé¢è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
2. å‰ç«¯è°ƒç”¨ `/api/auth/login/json` æ¥å£
3. åç«¯éªŒè¯ç”¨æˆ·åå’Œå¯†ç 
4. éªŒè¯æˆåŠŸåè¿”å› JWT Token
5. å‰ç«¯å°† Token å­˜å‚¨åœ¨ localStorage
6. åç»­è¯·æ±‚åœ¨ Header ä¸­æºå¸¦ Token
7. Token å¤±æ•ˆæˆ–æ— æ•ˆæ—¶è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µ

## ğŸ“¦ ä¾èµ–å®‰è£…

### åç«¯ä¾èµ–
```bash
cd backend
pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/
```

### å‰ç«¯ä¾èµ–
```bash
cd frontend
npm install --legacy-peer-deps
```

## ğŸ¯ ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

1. å®ç°é€‰è‚¡å·¥å…·çš„å…·ä½“åŠŸèƒ½
2. å®ç°å›æµ‹å·¥å…·çš„å…·ä½“åŠŸèƒ½
3. æ·»åŠ æ•°æ®å¯è§†åŒ–å›¾è¡¨
4. ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
5. æ·»åŠ æ›´å¤šç­–ç•¥æ”¯æŒ
